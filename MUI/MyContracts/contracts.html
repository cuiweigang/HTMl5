<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="js/mui.min.js"></script>
		<link href="css/mui.min.css" rel="stylesheet" />
		<script type="text/javascript" charset="utf-8">
			mui.init();
			mui.plusReady(function() {
				// 扩展API加载完毕，现在可以正常调用扩展API
				plus.contacts.getAddressBook(plus.contacts.ADDRESSBOOK_PHONE, function(addressbook) {
					addressbook.find(["displayName", "phoneNumbers"], function(items) {
						console.log(JSON.stringify(items));
						rederPhones(items);
					});
				}, function(e) {
					alert("Get address book failed: " + e.message);
				});
			});

			function rederPhones(items) {
				var ul = document.getElementById("phones");
				for (var i = 0; i < items.length; i++) {
					var item = items[i];
					if (!item.displayName || item.phoneNumbers == null || item.phoneNumbers.length <= 0) {
						continue;
					}
					var li = document.createElement("li");
					li.className = "mui-table-view-cell";
					var a=document.createElement("a");
					a.className="mui-navigate-right";
					a.href="#";
					a.text=items[i].displayName + "(" + item.phoneNumbers[0].value + ")";
					li.appendChild(a);

					ul.appendChild(li);
				}
			}
		</script>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">通讯录</h1>
		</header>
		<div class="mui-content">
			<ul class="mui-table-view" id="phones">
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right">Item 2 </a>
				</li>
			</ul>
		</div>
	</body>

</html>